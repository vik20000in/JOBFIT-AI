<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobFit AI - Resume Matcher & Upskilling</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-briefcase"></i>
                <span class="logo-title">JobFit AI</span>
            </div>
            <div class="nav-center">
                <h1 class="nav-main-title">Resume Matcher & Upskilling</h1>
            </div>
            <div class="theme-selector">
                <label for="theme-select">Theme:</label>
                <select id="theme-select">
                    <option value="wipro">Enterprise Blue</option>
                    <option value="dark">Modern Dark</option>
                    <option value="minimal">Clean Minimal</option>
                </select>
            </div>
        </div>
    </nav>

    <div class="container">
        <main>
            <div class="input-section">
                <div class="input-group">
                    <label for="jd-text"><i class="fas fa-file-alt"></i> Job Description (JD)</label>
                    <div class="tab-container">
                        <button class="tab-btn active" data-target="jd-text-input">Paste Text</button>
                        <button class="tab-btn" data-target="jd-file-input">Upload File</button>
                    </div>
                    <div id="jd-text-input" class="input-content active">
                        <textarea id="jd-text" placeholder="Paste the job description here..."></textarea>
                    </div>
                    <div id="jd-file-input" class="input-content hidden">
                        <div class="file-upload-box">
                            <input type="file" id="jd-file" accept=".pdf,.docx,.txt">
                            <p>Drag & drop or click to upload JD (PDF, DOCX, TXT)</p>
                        </div>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="resume-text"><i class="fas fa-user-tie"></i> Resume / CV</label>
                    <div class="tab-container">
                        <button class="tab-btn active" data-target="resume-text-input">Paste Text</button>
                        <button class="tab-btn" data-target="resume-file-input">Upload File</button>
                    </div>
                    <div id="resume-text-input" class="input-content active">
                        <textarea id="resume-text" placeholder="Paste your resume content here..."></textarea>
                    </div>
                    <div id="resume-file-input" class="input-content hidden">
                        <div class="file-upload-box">
                            <input type="file" id="resume-file" accept=".pdf,.docx,.txt">
                            <p>Drag & drop or click to upload Resume (PDF, DOCX, TXT)</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-section">
                <button id="analyze-btn"><i class="fas fa-search"></i> Analyze Match</button>
                <p id="error-msg" class="error hidden"></p>
            </div>

            <div id="results-section" class="results-section hidden">
                <!-- Tabbed Results Navigation -->
                <div class="results-tabs">
                    <button class="results-tab-btn active" data-tab="match-score">
                        <i class="fas fa-chart-line"></i> Match Score
                    </button>
                    <button class="results-tab-btn" data-tab="upskilling">
                        <i class="fas fa-rocket"></i> Upskilling Plan
                    </button>
                    <button class="results-tab-btn" data-tab="cover-letter">
                        <i class="fas fa-file-signature"></i> Cover Letter
                    </button>
                    <button class="results-tab-btn" data-tab="interview">
                        <i class="fas fa-question-circle"></i> Interview Prep
                    </button>
                    <button class="results-tab-btn" data-tab="formatting">
                        <i class="fas fa-magic"></i> Formatting Tips
                    </button>
                    <button class="results-tab-btn" data-tab="insights">
                        <i class="fas fa-building"></i> Company Insights
                    </button>
                    <button class="results-tab-btn" data-tab="tailoring">
                        <i class="fas fa-tools"></i> Resume Tailoring
                    </button>
                </div>

                <!-- Tab Content Panels -->
                <div class="results-tab-content">
                    <!-- Match Score Tab -->
                    <div class="tab-panel active" id="match-score-panel">
                        <div class="match-score-section">
                            <h2><i class="fas fa-chart-line"></i> Match Analysis</h2>
                            <div class="score-card">
                                <div class="score-circle-container">
                                    <svg class="progress-ring" width="120" height="120">
                                        <circle class="progress-ring__circle-bg" stroke="grey" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                                        <circle class="progress-ring__circle" stroke="blue" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                                    </svg>
                                    <div class="score-text">
                                        <span id="score-value">0</span>%
                                    </div>
                                </div>
                            </div>

                            <div class="skills-analysis">
                                <div class="skill-box matched">
                                    <h3><i class="fas fa-check-circle"></i> Matched Skills</h3>
                                    <ul id="matched-skills-list"></ul>
                                </div>
                                <div class="skill-box missing">
                                    <h3><i class="fas fa-exclamation-triangle"></i> Missing Skills</h3>
                                    <ul id="missing-skills-list"></ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Upskilling Plan Tab -->
                    <div class="tab-panel" id="upskilling-panel">
                        <div class="upskilling-plan">
                            <h2><i class="fas fa-rocket"></i> Upskilling Plan</h2>
                            <div id="plan-container">
                                <!-- Plan items will be injected here -->
                            </div>
                        </div>
                    </div>

                    <!-- Cover Letter Tab -->
                    <div class="tab-panel" id="cover-letter-panel">
                        <div class="cover-letter-section">
                            <h2><i class="fas fa-file-signature"></i> Smart Cover Letter</h2>
                            <textarea id="cover-letter-text" readonly></textarea>
                            <div class="cover-letter-actions">
                                <button id="copy-letter-btn" class="secondary-btn"><i class="fas fa-copy"></i> Copy to Clipboard</button>
                            </div>
                        </div>
                    </div>

                    <!-- Interview Questions Tab -->
                    <div class="tab-panel" id="interview-panel">
                        <div class="interview-questions-section">
                            <h2><i class="fas fa-question-circle"></i> Potential Technical Interview Questions</h2>
                            <div id="questions-list">
                                <!-- Questions will be injected here -->
                            </div>
                        </div>
                    </div>

                    <!-- Formatting Tips Tab -->
                    <div class="tab-panel" id="formatting-panel">
                        <div class="formatting-tips-section">
                            <h2><i class="fas fa-magic"></i> Resume Formatting Tips</h2>
                            <div id="tips-list">
                                <!-- Formatting tips will be injected here -->
                            </div>
                        </div>
                    </div>

                    <!-- Company Insights Tab -->
                    <div class="tab-panel" id="insights-panel">
                        <div class="company-insights-section">
                            <h2><i class="fas fa-building"></i> Company & Role Insights</h2>
                            
                            <div class="insights-grid">
                                <div class="insight-card company-overview-card">
                                    <h3><i class="fas fa-info-circle"></i> Company Overview</h3>
                                    <p id="company-overview-text"></p>
                                    <div class="company-meta">
                                        <span id="company-size" class="meta-badge"></span>
                                        <span id="company-industry" class="meta-badge"></span>
                                        <span id="company-location" class="meta-badge"></span>
                                    </div>
                                </div>

                                <div class="insight-card culture-card">
                                    <h3><i class="fas fa-users"></i> Company Culture</h3>
                                    <div id="culture-signals">
                                        <!-- Culture signals will be injected here -->
                                    </div>
                                </div>

                                <div class="insight-card role-focus-card">
                                    <h3><i class="fas fa-briefcase"></i> Role Focus</h3>
                                    <p id="role-focus-text"></p>
                                    <div class="salary-career">
                                        <div class="salary-info">
                                            <strong><i class="fas fa-dollar-sign"></i> Estimated Salary:</strong>
                                            <p id="salary-range"></p>
                                        </div>
                                        <div class="career-path">
                                            <strong><i class="fas fa-chart-line"></i> Career Path:</strong>
                                            <p id="career-path-text"></p>
                                        </div>
                                    </div>
                                </div>

                                <div class="insight-card emphasis-card">
                                    <h3><i class="fas fa-star"></i> What to Emphasize</h3>
                                    <ul id="emphasis-list">
                                        <!-- Emphasis points will be injected here -->
                                    </ul>
                                </div>

                                <div class="insight-card tips-card">
                                    <h3><i class="fas fa-lightbulb"></i> Application Tips</h3>
                                    <ul id="application-tips-list">
                                        <!-- Application tips will be injected here -->
                                    </ul>
                                </div>

                                <div class="insight-card flags-card">
                                    <div class="flags-section">
                                        <h4><i class="fas fa-check-circle"></i> Green Flags</h4>
                                        <ul id="green-flags-list">
                                            <!-- Green flags will be injected here -->
                                        </ul>
                                    </div>
                                    <div class="flags-section">
                                        <h4><i class="fas fa-exclamation-triangle"></i> Red Flags</h4>
                                        <ul id="red-flags-list">
                                            <!-- Red flags will be injected here -->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Resume Tailoring Tab -->
                    <div class="tab-panel" id="tailoring-panel">
                        <div class="tailoring-workbench-section">
                            <h2><i class="fas fa-tools"></i> Resume Tailoring Workbench</h2>
                            <p class="workbench-description">
                                See exactly where to add missing skills to maximize your match score. 
                                <strong id="coverage-improvement"></strong>
                            </p>
                            
                            <div class="improvement-stats">
                                <div class="stat-card">
                                    <i class="fas fa-plus-circle"></i>
                                    <div class="stat-value" id="skills-added-stat">0</div>
                                    <div class="stat-label">Skills Added</div>
                                </div>
                                <div class="stat-card">
                                    <i class="fas fa-edit"></i>
                                    <div class="stat-value" id="lines-enhanced-stat">0</div>
                                    <div class="stat-label">Lines Enhanced</div>
                                </div>
                                <div class="stat-card">
                                    <i class="fas fa-check-double"></i>
                                    <div class="stat-value" id="total-changes-stat">0</div>
                                    <div class="stat-label">Total Changes</div>
                                </div>
                            </div>

                            <div class="suggestions-panel">
                                <h3><i class="fas fa-lightbulb"></i> Tailoring Suggestions</h3>
                                <div id="suggestions-list" class="suggestions-list">
                                    <!-- Suggestions will be injected here -->
                                </div>
                            </div>

                            <div class="diff-viewer">
                                <div class="diff-column">
                                    <h3><i class="fas fa-file-alt"></i> Your Original Resume</h3>
                                    <pre id="original-resume-display" class="resume-display"></pre>
                                </div>
                                <div class="diff-arrow">
                                    <i class="fas fa-arrow-right"></i>
                                </div>
                                <div class="diff-column">
                                    <h3><i class="fas fa-file-signature"></i> AI-Tailored Version</h3>
                                    <pre id="tailored-resume-display" class="resume-display highlighted"></pre>
                                    <div class="diff-actions">
                                        <button id="copy-tailored-btn" class="secondary-btn"><i class="fas fa-copy"></i> Copy Tailored Resume</button>
                                        <button id="download-tailored-btn" class="primary-btn"><i class="fas fa-download"></i> Download</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resume Builder - Hidden for future implementation
                <div class="resume-builder-section">
                    <button id="toggle-builder-btn" class="secondary-btn"><i class="fas fa-file-edit"></i> Show Improved Resume Builder</button>
                    <div id="resume-builder-container" class="resume-builder-container hidden">
                        <h2><i class="fas fa-file-edit"></i> Improved Resume Template</h2>
                        <p class="builder-description">Edit the template below with your information. Fields in [brackets] are placeholders - replace them with your actual details.</p>
                        <textarea id="resume-builder-text" placeholder="Your improved resume template will appear here..."></textarea>
                        <div class="builder-actions">
                            <button id="download-resume-btn" class="primary-btn"><i class="fas fa-download"></i> Download Resume</button>
                            <button id="copy-resume-btn" class="secondary-btn"><i class="fas fa-copy"></i> Copy to Clipboard</button>
                        </div>
                    </div>
                </div>
                -->
            </div>
        </main>
    </div>
    
    <footer>
        <p>&copy; 2024-2025 JobFit AI. Enterprise Edition.</p>
    </footer>

    <!-- Scroll to Top Button -->
    <button id="scroll-to-top" class="scroll-to-top" title="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
